kind: pipeline
name: Website-Frontend
platform:
  os: linux
  arch: arm
steps:
- name: Install and Tests
  image: node
  commands:
  - npm install
  - npm test -- --coverage
  when:
    event:
    - push
    - pull-request

- name: Deploy
  image: node
  commands:
  - npm install
  - npm build --prod
  when:
    branch:
    - master
